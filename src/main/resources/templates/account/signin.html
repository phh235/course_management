<!DOCTYPE html><html lang="en"><head>	<meta charset="UTF-8">	<link rel="icon" href="https://www.udemy.com/staticx/udemy/images/v8/favicon-32x32.png">	<!-- Font Awesome -->	<link			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"			rel="stylesheet"	/>	<!-- MDB -->	<link			href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.min.css"			rel="stylesheet"	/>	<style>      * {          font-family: "Google Sans";      }	</style>	<title>Đăng nhập</title></head><body><section class="vh-100">	<div class="container-fluid">		<div class="row">			<div class="col-sm-6 px-0 d-none d-sm-block">				<img th:src="@{/assets/img/side-image.png}"						 alt="Login image" class="w-100 vh-100" style="object-fit: cover; object-position: left;">			</div>			<div class="col-sm-6 text-black mt-5">				<div class="container p-5 mt-5 d-flex justify-content-center">					<div class="mt-5">						<h2 class="text-center mb-5 mt-5 text-dark">ĐĂNG NHẬP</h2>						<form style="width: 26rem;" class="mt-5" onsubmit="submitLoginForm(event)">							<!-- Email input -->							<div data-mdb-input-init class="form-outline mb-4">								<input type="text" id="username" class="form-control form-control-lg" required/>								<label class="form-label" for="username">Tên người dùng</label>							</div>							<!-- Password input -->							<div data-mdb-input-init class="form-outline mb-4">								<input type="password" id="password" class="form-control form-control-lg" required/>								<label class="form-label" for="password">Mật khẩu</label>							</div>							<!-- 2 column grid layout for inline styling -->							<div class="row mb-4">								<div class="col d-flex justify-content-center">									<!-- Checkbox -->									<div class="form-check">										<input class="form-check-input" type="checkbox" value="" id="form2Example34" checked/>										<label class="form-check-label" for="form2Example34" style="font-size: 17px">Nhớ mật khẩu</label>									</div>								</div>								<div class="col">									<!-- Simple link -->									<a th:href="@{/quen-mat-khau}" style="font-size: 17px">Quên mật khẩu?</a>								</div>							</div>							<!-- Submit button -->							<button data-mdb-ripple-init type="submit"											class="btn btn-primary btn-lg btn-block mb-4"							> Đăng nhập							</button>							<!-- Register buttons -->							<div class="text-center" style="font-size: 17px">								<p>Chưa có tài khoản? <a th:href="@{/account/dang-ky}">Đăng ký</a></p>							</div>						</form>					</div>				</div>			</div>		</div>	</div></section><script>    function submitLoginForm(event) {        event.preventDefault();        const username = document.getElementById('username').value;        const password = document.getElementById('password').value;        axios.post('/account-api/login', {            username: username,            password: password        })            .then(response => {                console.log(response.data)                console.log(response.data.data.fullName)                if (response.status === 200) {                    // Lưu thông tin tài khoản vào LocalStorage                    localStorage.setItem('loggedInUser', JSON.stringify(response.data.data));                    // Xử lý phản hồi đăng nhập thành công                    if (response.data.data.role.roleName === 'Admin') {                        Swal.fire({                            title: "Đăng nhập thành công",                            icon: "success",                            showConfirmButton: false, // không hiển thị nút                            allowOutsideClick: false, // không cho click ra ngoài                            html: `                <div>                  Chuyển trang sau <b style="color: #c20000"></b> giây.                </div>              `,                            timer: 2500,                            timerProgressBar: true,                            didOpen: () => {                                const timer = Swal.getPopup().querySelector("b");                                timerInterval = setInterval(() => {                                    const remainingTime = Math.ceil(Swal.getTimerLeft() / 1000); // Chuyển đổi mili giây sang giây và làm tròn lên                                    timer.textContent = remainingTime;                                }, 1000); // Cập nhật giá trị mỗi giây                            },                            willClose: () => {                                clearInterval(timerInterval);                            },                        });                        // Chờ 1 giây trước khi chuyển trang                        setTimeout(function () {                            window.location.href = "/admin/trang-chu";                        }, 2800);                    }                }                if (response.data.data.role.roleName === 'User') {                    // Redirect to user page                    Swal.fire({                        title: "Đăng nhập thành công",                        icon: "success",                        showConfirmButton: false, // không hiển thị nút                        allowOutsideClick: false, // không cho click ra ngoài                        html: `                <div>                  Chuyển trang sau <b style="color: #c20000"></b> giây.                </div>              `,                        timer: 2500,                        timerProgressBar: true,                        didOpen: () => {                            const timer = Swal.getPopup().querySelector("b");                            timerInterval = setInterval(() => {                                const remainingTime = Math.ceil(Swal.getTimerLeft() / 1000); // Chuyển đổi mili giây sang giây và làm tròn lên                                timer.textContent = remainingTime;                            }, 1000); // Cập nhật giá trị mỗi giây                        },                        willClose: () => {                            clearInterval(timerInterval);                        },                    });                    // Chờ 1 giây trước khi chuyển trang                    setTimeout(function () {                        window.location.href = "/";                    }, 2800);                }            })            .catch(error => {                console.log(error.response.data.message)                if (error.response.status === 'Unauthorized' &&                    error.response.message === 'Mật khẩu không đúng') {                    Swal.fire({                        title: 'Đăng nhập thất bại',                        text: error.response.data.message,                        icon: 'error',                        confirmButtonColor: "#386bc0",                        showConfirmButton: true                    });                } else {                    Swal.fire({                        title: 'Đăng nhập thất bại',                        text: error.response.data.message,                        icon: 'error',                        confirmButtonColor: "#386bc0",                        showConfirmButton: true                    });                }            });    }</script><!-- MDB --><script		type="text/javascript"		src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.umd.min.js"></script><!-- Sweer alert --><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><!-- Axios --><script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script></body></html>